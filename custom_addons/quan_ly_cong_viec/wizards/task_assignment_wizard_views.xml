<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        
        <!-- ========== TASK ASSIGNMENT WIZARD ========== -->
        <record id="view_task_assignment_wizard_form" model="ir.ui.view">
            <field name="name">task.assignment.wizard.form</field>
            <field name="model">task.assignment.wizard</field>
            <field name="arch" type="xml">
                <form string="Ph√¢n c√¥ng c√¥ng vi·ªác h√†ng lo·∫°t">
                    <sheet>
                        <group attrs="{'invisible': [('use_ai_suggestion', '=', False)]}">
                            <field name="ai_suggested_employee_id" readonly="1" string="ü§ñ AI G·ª£i √ù"/> 
                            <field name="ai_suggestion_confidence" readonly="1" string="ƒê·ªô tin c·∫≠y (%)"/>
                            <field name="ai_suggestion_reasoning" readonly="1" string="L√Ω do g·ª£i √Ω"/>
                        </group>
                        
                        <group>
                            <group string="Ph√¢n c√¥ng cho">
                                <field name="employee_ids" widget="many2many_tags"/>
                                <field name="customer_id"/>
                                <field name="supervisor_id"/>
                            </group>
                            <group string="Th√¥ng tin c√¥ng vi·ªác">
                                <field name="task_name"/>
                                <field name="priority" widget="priority"/>
                                <field name="deadline"/>
                                <field name="estimated_hours"/>
                            </group>
                        </group>
                        
                        <group>
                            <field name="requirement" widget="html"/>
                        </group>
                        
                        <group>
                            <group string="Chi ti·∫øt">
                                <field name="acceptance_criteria"/>
                                <field name="deliverable"/>
                                <field name="tag_ids" widget="many2many_tags"/>
                            </group>
                            <group string="T√πy ch·ªçn">
                                <field name="send_email"/>
                            </group>
                        </group>
                        
                        <group>
                            <group string="ü§ñ AI H·ªó Tr·ª£">
                                <field name="use_ai_suggestion"/>
                                <field name="ai_predicted_hours" readonly="1" attrs="{'invisible': [('use_ai_suggestion', '=', False)]}"/>
                                <button name="action_get_ai_suggestions" 
                                        string="ü§ñ L·∫•y G·ª£i √ù AI" 
                                        type="object" 
                                        class="oe_highlight"
                                        icon="fa-magic"/>
                                <button name="action_apply_ai_suggestion" 
                                        string="‚úÖ √Åp D·ª•ng G·ª£i √ù" 
                                        type="object" 
                                        class="oe_highlight"
                                        attrs="{'invisible': [('ai_suggested_employee_id', '=', False)]}"
                                        icon="fa-check"/>
                            </group>
                        </group>
                    </sheet>
                    
                    <footer>
                        <button name="action_assign_tasks" string="Ph√¢n c√¥ng" type="object" class="oe_highlight"/>
                        <button string="H·ªßy" class="oe_link" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>
        
        <record id="action_task_assignment_wizard" model="ir.actions.act_window">
            <field name="name">Ph√¢n c√¥ng c√¥ng vi·ªác h√†ng lo·∫°t</field>
            <field name="res_model">task.assignment.wizard</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="binding_model_id" ref="model_cong_viec"/>
            <field name="binding_view_types">list</field>
        </record>
        
        <!-- ========== BULK UPDATE WIZARD ========== -->
        <record id="view_bulk_task_update_wizard_form" model="ir.ui.view">
            <field name="name">bulk.task.update.wizard.form</field>
            <field name="model">bulk.task.update.wizard</field>
            <field name="arch" type="xml">
                <form string="C·∫≠p nh·∫≠t h√†ng lo·∫°t">
                    <sheet>
                        <group>
                            <field name="task_ids" widget="many2many_tags" readonly="1"/>
                        </group>
                        
                        <group>
                            <group string="Tr·∫°ng th√°i">
                                <field name="update_state"/>
                                <field name="new_state" attrs="{'invisible': [('update_state', '=', False)]}"/>
                            </group>
                            <group string="∆Øu ti√™n">
                                <field name="update_priority"/>
                                <field name="new_priority" widget="priority" attrs="{'invisible': [('update_priority', '=', False)]}"/>
                            </group>
                        </group>
                        
                        <group>
                            <group string="Deadline">
                                <field name="update_deadline"/>
                                <field name="new_deadline" attrs="{'invisible': [('update_deadline', '=', False)]}"/>
                            </group>
                            <group string="Ng∆∞·ªùi gi√°m s√°t">
                                <field name="update_supervisor"/>
                                <field name="new_supervisor_id" attrs="{'invisible': [('update_supervisor', '=', False)]}"/>
                            </group>
                        </group>
                        
                        <group>
                            <group string="Tags">
                                <field name="update_tags"/>
                                <field name="new_tag_ids" widget="many2many_tags" attrs="{'invisible': [('update_tags', '=', False)]}"/>
                            </group>
                        </group>
                    </sheet>
                    
                    <footer>
                        <button name="action_update_tasks" string="C·∫≠p nh·∫≠t" type="object" class="oe_highlight"/>
                        <button string="H·ªßy" class="oe_link" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>
        
        <record id="action_bulk_task_update_wizard" model="ir.actions.act_window">
            <field name="name">C·∫≠p nh·∫≠t h√†ng lo·∫°t</field>
            <field name="res_model">bulk.task.update.wizard</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="binding_model_id" ref="model_cong_viec"/>
            <field name="binding_view_types">list</field>
        </record>
        
    </data>
</odoo>
