<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        
        <!-- Email Template: Ch√†o m·ª´ng nh√¢n vi√™n m·ªõi -->
        <record id="email_template_welcome_employee" model="mail.template">
            <field name="name">Nh√¢n s·ª±: Ch√†o m·ª´ng nh√¢n vi√™n m·ªõi</field>
            <field name="model_id" ref="model_nhan_su"/>
            <field name="subject">Ch√†o m·ª´ng ${object.name} ƒë·∫øn v·ªõi c√¥ng ty!</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="email_to">${object.work_email|safe}</field>
            <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px; font-family: Arial, Helvetica, sans-serif; font-size: 14px;">
    <table width="100%" cellpadding="0" cellspacing="0" style="background-color: #f5f5f5; padding: 20px;">
        <tr>
            <td align="center">
                <table width="600" cellpadding="0" cellspacing="0" style="background-color: white; border-radius: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                    <tr>
                        <td style="padding: 40px; text-align: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 10px 10px 0 0;">
                            <h1 style="color: white; margin: 0;">üéâ Ch√†o m·ª´ng b·∫°n!</h1>
                        </td>
                    </tr>
                    <tr>
                        <td style="padding: 40px;">
                            <p style="font-size: 16px; line-height: 1.6;">
                                Xin ch√†o <strong>${object.name}</strong>,
                            </p>
                            <p style="font-size: 16px; line-height: 1.6;">
                                Ch√∫ng t√¥i r·∫•t vui m·ª´ng ch√†o ƒë√≥n b·∫°n gia nh·∫≠p ƒë·ªôi ng≈© <strong>${object.company_id.name}</strong>!
                            </p>
                            
                            <div style="background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
                                <h3 style="color: #667eea; margin-top: 0;">üìã Th√¥ng tin c·ªßa b·∫°n:</h3>
                                <ul style="list-style: none; padding: 0;">
                                    <li style="padding: 8px 0;"><strong>M√£ nh√¢n vi√™n:</strong> ${object.employee_code}</li>
                                    <li style="padding: 8px 0;"><strong>V·ªã tr√≠:</strong> ${object.job_position}</li>
                                    <li style="padding: 8px 0;"><strong>Ph√≤ng ban:</strong> ${object.department_id.name if object.department_id else 'Ch∆∞a x√°c ƒë·ªãnh'}</li>
                                    <li style="padding: 8px 0;"><strong>Ng√†y v√†o l√†m:</strong> ${format_date(object.join_date) if object.join_date else ''}</li>
                                    % if object.manager_id:
                                    <li style="padding: 8px 0;"><strong>Qu·∫£n l√Ω tr·ª±c ti·∫øp:</strong> ${object.manager_id.name}</li>
                                    % endif
                                </ul>
                            </div>
                            
                            <p style="font-size: 16px; line-height: 1.6;">
                                Ch√∫ng t√¥i tin t∆∞·ªüng r·∫±ng b·∫°n s·∫Ω c√≥ nh·ªØng ƒë√≥ng g√≥p quan tr·ªçng cho s·ª± ph√°t tri·ªÉn c·ªßa c√¥ng ty. 
                                N·∫øu c√≥ b·∫•t k·ª≥ c√¢u h·ªèi n√†o, ƒë·ª´ng ng·∫ßn ng·∫°i li√™n h·ªá v·ªõi ph√≤ng Nh√¢n s·ª±.
                            </p>
                            
                            <p style="font-size: 16px; line-height: 1.6; margin-top: 30px;">
                                Ch√∫c b·∫°n th√†nh c√¥ng!<br/>
                                <strong>Ph√≤ng Nh√¢n s·ª±</strong>
                            </p>
                        </td>
                    </tr>
                    <tr>
                        <td style="padding: 20px; text-align: center; background-color: #f8f9fa; border-radius: 0 0 10px 10px;">
                            <p style="color: #6c757d; font-size: 12px; margin: 0;">
                                ¬© ${object.company_id.name} - H·ªá th·ªëng qu·∫£n l√Ω nh√¢n s·ª±
                            </p>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>
            </field>
            <field name="lang">${object.lang}</field>
            <field name="auto_delete" eval="False"/>
        </record>
        
        <!-- Email Template: C·∫£nh b√°o h·ª£p ƒë·ªìng s·∫Øp h·∫øt h·∫°n -->
        <record id="email_template_contract_expiry" model="mail.template">
            <field name="name">Nh√¢n s·ª±: C·∫£nh b√°o h·ª£p ƒë·ªìng s·∫Øp h·∫øt h·∫°n</field>
            <field name="model_id" ref="model_nhan_su"/>
            <field name="subject">‚ö†Ô∏è H·ª£p ƒë·ªìng c·ªßa ${object.name} s·∫Øp h·∫øt h·∫°n</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="email_to">${(object.manager_id.work_email if object.manager_id else object.department_id.manager_id.work_email if object.department_id and object.department_id.manager_id else user.email)|safe}</field>
            <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px; font-family: Arial, Helvetica, sans-serif; font-size: 14px;">
    <table width="100%" cellpadding="0" cellspacing="0" style="background-color: #f5f5f5; padding: 20px;">
        <tr>
            <td align="center">
                <table width="600" cellpadding="0" cellspacing="0" style="background-color: white; border-radius: 10px;">
                    <tr>
                        <td style="padding: 30px; border-left: 5px solid #ffc107;">
                            <h2 style="color: #ffc107; margin-top: 0;">‚ö†Ô∏è C·∫£nh b√°o h·ª£p ƒë·ªìng s·∫Øp h·∫øt h·∫°n</h2>
                            
                            <p style="font-size: 16px; line-height: 1.6;">
                                H·ª£p ƒë·ªìng lao ƒë·ªông c·ªßa nh√¢n vi√™n <strong>${object.name}</strong> s·∫Øp h·∫øt h·∫°n.
                            </p>
                            
                            <div style="background-color: #fff3cd; padding: 20px; border-radius: 8px; margin: 20px 0;">
                                <ul style="list-style: none; padding: 0;">
                                    <li style="padding: 8px 0;"><strong>M√£ nh√¢n vi√™n:</strong> ${object.employee_code}</li>
                                    <li style="padding: 8px 0;"><strong>V·ªã tr√≠:</strong> ${object.job_position}</li>
                                    <li style="padding: 8px 0;"><strong>Ph√≤ng ban:</strong> ${object.department_id.name if object.department_id else 'N/A'}</li>
                                    <li style="padding: 8px 0;"><strong>Lo·∫°i h·ª£p ƒë·ªìng:</strong> ${dict(object._fields['contract_type'].selection).get(object.contract_type, 'N/A')}</li>
                                    <li style="padding: 8px 0; color: #d32f2f;"><strong>Ng√†y h·∫øt h·∫°n:</strong> ${format_date(object.contract_end_date) if object.contract_end_date else 'N/A'}</li>
                                </ul>
                            </div>
                            
                            <p style="font-size: 16px; line-height: 1.6;">
                                Vui l√≤ng li√™n h·ªá v·ªõi nh√¢n vi√™n v√† chu·∫©n b·ªã th·ªß t·ª•c gia h·∫°n h·ª£p ƒë·ªìng n·∫øu c·∫ßn thi·∫øt.
                            </p>
                            
                            <div style="text-align: center; margin: 30px 0;">
                                <a href="/web#id=${object.id}&amp;view_type=form&amp;model=nhan.su" 
                                   style="background-color: #667eea; color: white; padding: 12px 30px; text-decoration: none; border-radius: 5px; display: inline-block;">
                                    Xem chi ti·∫øt nh√¢n vi√™n
                                </a>
                            </div>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>
            </field>
            <field name="lang">${object.lang}</field>
            <field name="auto_delete" eval="False"/>
        </record>
        
        <!-- Email Template: ƒê√°nh gi√° hi·ªáu su·∫•t -->
        <record id="email_template_performance_evaluation" model="mail.template">
            <field name="name">Nh√¢n s·ª±: Th√¥ng b√°o ƒë√°nh gi√° hi·ªáu su·∫•t</field>
            <field name="model_id" ref="model_nhan_su"/>
            <field name="subject">üìä K·∫øt qu·∫£ ƒë√°nh gi√° hi·ªáu su·∫•t - ${object.name}</field>
            <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
            <field name="email_to">${object.work_email|safe}</field>
            <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px; font-family: Arial, Helvetica, sans-serif; font-size: 14px;">
    <table width="100%" cellpadding="0" cellspacing="0" style="background-color: #f5f5f5; padding: 20px;">
        <tr>
            <td align="center">
                <table width="600" cellpadding="0" cellspacing="0" style="background-color: white; border-radius: 10px;">
                    <tr>
                        <td style="padding: 40px;">
                            <h2 style="color: #667eea; margin-top: 0;">üìä K·∫øt qu·∫£ ƒë√°nh gi√° hi·ªáu su·∫•t</h2>
                            
                            <p style="font-size: 16px; line-height: 1.6;">
                                Xin ch√†o <strong>${object.name}</strong>,
                            </p>
                            
                            <p style="font-size: 16px; line-height: 1.6;">
                                H·ªá th·ªëng ƒë√£ ho√†n t·∫•t ƒë√°nh gi√° hi·ªáu su·∫•t l√†m vi·ªác c·ªßa b·∫°n. D∆∞·ªõi ƒë√¢y l√† k·∫øt qu·∫£:
                            </p>
                            
                            <div style="background-color: #f8f9fa; padding: 25px; border-radius: 8px; margin: 25px 0;">
                                <div style="text-align: center; margin-bottom: 20px;">
                                    <div style="font-size: 48px; font-weight: bold; color: ${'#28a745' if object.ai_performance_score >= 75 else '#ffc107' if object.ai_performance_score >= 60 else '#dc3545'};">
                                        ${f'{object.ai_performance_score:.1f}' if object.ai_performance_score else '0.0'}
                                    </div>
                                    <div style="font-size: 18px; color: #6c757d;">ƒêi·ªÉm t·ªïng h·ª£p / 100</div>
                                    <div style="font-size: 16px; font-weight: bold; color: #667eea; margin-top: 10px;">
                                        ${dict(object._fields['ai_performance_level'].selection).get(object.ai_performance_level, 'Ch∆∞a ƒë√°nh gi√°') if object.ai_performance_level else 'Ch∆∞a ƒë√°nh gi√°'}
                                    </div>
                                </div>
                                
                                <h3 style="color: #667eea;">üìà Th·ªëng k√™ c√¥ng vi·ªác:</h3>
                                <ul style="list-style: none; padding: 0;">
                                    <li style="padding: 8px 0;">‚úÖ <strong>T·ªïng c√¥ng vi·ªác:</strong> ${object.total_tasks}</li>
                                    <li style="padding: 8px 0;">‚úÖ <strong>Ho√†n th√†nh:</strong> ${object.completed_tasks}</li>
                                    <li style="padding: 8px 0;">‚è∞ <strong>Qu√° h·∫°n:</strong> ${object.overdue_tasks}</li>
                                    <li style="padding: 8px 0;">üìä <strong>T·ª∑ l·ªá ho√†n th√†nh:</strong> ${f'{object.task_completion_rate:.1f}' if object.task_completion_rate else '0.0'}%</li>
                                    <li style="padding: 8px 0;">‚≠ê <strong>ƒêi·ªÉm ch·∫•t l∆∞·ª£ng TB:</strong> ${f'{object.average_task_score:.1f}' if object.average_task_score else '0.0'}/100</li>
                                </ul>
                                
                                % if object.ai_strengths:
                                <h3 style="color: #28a745;">‚úì ƒêi·ªÉm m·∫°nh:</h3>
                                <div style="white-space: pre-line; padding-left: 20px;">${object.ai_strengths}</div>
                                % endif
                                
                                % if object.ai_improvement_areas:
                                <h3 style="color: #ffc107;">‚ö† C·∫ßn c·∫£i thi·ªán:</h3>
                                <div style="white-space: pre-line; padding-left: 20px;">${object.ai_improvement_areas}</div>
                                % endif
                            </div>
                            
                            <p style="font-size: 16px; line-height: 1.6;">
                                N·∫øu b·∫°n c√≥ b·∫•t k·ª≥ c√¢u h·ªèi n√†o v·ªÅ k·∫øt qu·∫£ ƒë√°nh gi√°, vui l√≤ng li√™n h·ªá v·ªõi qu·∫£n l√Ω tr·ª±c ti·∫øp.
                            </p>
                            
                            <p style="font-size: 16px; line-height: 1.6; margin-top: 30px;">
                                Ch√∫c b·∫°n ti·∫øp t·ª•c ph√°t huy!<br/>
                                <strong>Ph√≤ng Nh√¢n s·ª±</strong>
                            </p>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>
            </field>
            <field name="lang">${object.lang}</field>
            <field name="auto_delete" eval="False"/>
        </record>
        
    </data>
</odoo>
